<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>Test Json</title>

    <link href="https://fonts.googleapis.com/css?family=Faster+One" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
  </head>

  <body>

      <header>
        
      </header>

      <section>
        
      </section>

    <script>
    const header = document.querySelector('header');
    const section = document.querySelector('section');

    obj = '{"aff3ct::module::Source":{"module_name": "aff3ct::module::Source","tasks":{"generate_N1":{"task_name": "generate","sockets":[{"soc_name": "U_K","soc_dir": "out","soc_type": "std::vector<B, A> &"}]},"generate_N2":{"task_name": "generate","sockets":[{"soc_name": "U_K","soc_dir": "out","soc_type": "B *"}]}}}}';
    json = JSON.parse(obj);

    populateHeader(json);
    showTask(json);

    function populateHeader(jsonObj) {
        var source = jsonObj['aff3ct::module::Source'];

        var myH1 = document.createElement('h1');
        myH1.textContent = source.module_name;
        header.appendChild(myH1);

        var myPara = document.createElement('p');
        myPara.textContent = 'Tasks: ';
        header.appendChild(myPara);
    }

    function showTask(jsonObj) {
        var source = jsonObj['aff3ct::module::Source'];

        var length = Object.keys(source.tasks).length
      
        for (var i = 0; i < length; i++) {
            var myArticle = document.createElement('article');
            var myH2 = document.createElement('h2');
            var myPara1 = document.createElement('p');
            var myPara2 = document.createElement('p');
            var myPara3 = document.createElement('p');
            var myPara4 = document.createElement('p');
            /*var myList = document.createElement('ul');*/

            myH2.textContent = 'Generate_N' + (i+1) + '     ';
            myPara1.textContent = 'Task name: ' + source.tasks.generate_N1.task_name;
            myPara2.textContent = 'Soc name: ' + source.tasks.generate_N1.sockets[0].soc_name;
            myPara3.textContent = 'Soc dir: ' + source.tasks.generate_N1.sockets[0].soc_dir;
            myPara4.textContent = 'Soc type: ' + source.tasks.generate_N1.sockets[0].soc_type;
        
            /*var sockets = source.tasks.generate_N1.sockets[0];
            for (var j = 0; j < sockets.length; j++) {
                var listItem = document.createElement('li');
                listItem.textContent = sockets[j];
                myList.appendChild(listItem);
            }*/

            myArticle.appendChild(myH2);
            myArticle.appendChild(myPara1);
            myArticle.appendChild(myPara2);
            myArticle.appendChild(myPara3);
            myArticle.appendChild(myPara4);

            /*myArticle.appendChild(myList);*/

            section.appendChild(myArticle);
        }
    }


    </script>
  </body>
</html>